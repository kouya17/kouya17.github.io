<?xml version="1.0" encoding="utf-8" standalone="yes"?><rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom" xmlns:content="http://purl.org/rss/1.0/modules/content/"><channel><title>Chart_js on kouya17.com</title><link>https://kouya17.github.io/tech-blog/tags/chart_js/</link><description>Recent content in Chart_js on kouya17.com</description><generator>Hugo -- gohugo.io</generator><language>en-us</language><lastBuildDate>Sun, 26 Apr 2020 13:57:32 +0900</lastBuildDate><atom:link href="https://kouya17.github.io/tech-blog/tags/chart_js/index.xml" rel="self" type="application/rss+xml"/><item><title>Chart.jsで時刻データを扱う</title><link>https://kouya17.github.io/tech-blog/posts/23/</link><pubDate>Sun, 26 Apr 2020 13:57:32 +0900</pubDate><guid>https://kouya17.github.io/tech-blog/posts/23/</guid><description>Chart.js公式のドキュメントを参考にして、Chart.jsで時刻データを扱う場合の描画オプションについて確認する。
入力データ 入力データはx軸データをy軸データを各点それぞれ指定する。
今回はx軸データに時刻データを使う。
例としては、以下のように指定すればOK。
data: [{ x: &amp;#39;1995-12-17T00:00:00&amp;#39;, y: 1 }, { x: &amp;#39;1995-12-18T00:00:00&amp;#39;, y: 10 }, { x: &amp;#39;1995-12-21T00:00:00&amp;#39;, y: 20 }, { x: &amp;#39;1995-12-25T12:00:00&amp;#39;, y: 30 }, { x: &amp;#39;1996-01-01T00:00:00&amp;#39;, y: 40 }] データフォーマット 時刻スケールのデータを使う場合、フォーマットはMoment.jsが扱えるフォーマットであればどういった形式でも良い。詳細はMoment.jsのドキュメント参照。
描画オプション 時刻目盛りを扱う場合、以下のオプションを設定できる。
adapters.date 外部の時刻ライブラリ(つまりMoment.js以外)を使うためのオプション。
distribution データのプロット方法。
指定できる値はlinearまたはseriesのいずれか。
初期値はlinear。
linearはデータ描画間隔が時間間隔に応じて変化する。
seriesはデータ描画間隔がすべて同じになる。
以下に同一データを用いてdistribution設定のみ変えた場合の描画例を示す。
linearを指定した場合
var ctx = document.getElementById('distribution_linear').getContext('2d'); var chart = new Chart(ctx, { // The type of chart we want to create type: 'line', // The data for our dataset data: { datasets: [{ label: 'linear', backgroundColor: 'rgb(255, 99, 132)', borderColor: 'rgb(255, 99, 132)', fill: false, data: [{ x: '1995-12-17T00:00:00', y: 1 }, { x: '1995-12-18T00:00:00', y: 10 }, { x: '1995-12-21T00:00:00', y: 20 }, { x: '1995-12-25T12:00:00', y: 30 }, { x: '1996-01-01T00:00:00', y: 40 }] }] }, // Configuration options go here options: { scales: { xAxes: [{ type: 'time', //!</description></item><item><title>Chart.jsで横軸が日付のグラフを作成する</title><link>https://kouya17.github.io/tech-blog/posts/21/</link><pubDate>Sun, 05 Apr 2020 00:39:30 +0900</pubDate><guid>https://kouya17.github.io/tech-blog/posts/21/</guid><description>webサイト上で横軸が日付情報のグラフを作りたかったのでChart.js周りで色々調べた。
横軸が単純な数値じゃない場合は面倒くさくなるかなと思っていたが、Chart.jsが非常に使いやすく、すんなりできた。
最終的に作ったもの 画像で貼ろうと思ったが、結構サイズが大きいのでリンクで貼り付けておく。
Chart.jsとは グラフ類を描画するためのJavaScriptライブラリ。
HTMLの&amp;lt;canvas&amp;gt;要素に2Dグラフィックを描画できる。
ライセンスはMIT。
Chat.jsのインストールと使い方 基本的な使い方を公式に従って確認してみる。
インストール 今回はとりあえず手軽そうなCDNを使う。
よってHTMLに以下のタグを追加する。
&amp;lt;script src=&amp;#34;https://cdnjs.cloudflare.com/ajax/libs/Chart.js/2.9.3/Chart.bundle.min.js&amp;#34;&amp;gt;&amp;lt;/script&amp;gt; なお、ここで Chart.bundle.min.js を選択したのは、今回日付データを扱うため。
Chart.min.js の方は日付データを扱うためのライブラリMoment.jsが含まれていない。
使い方 HTML側はグラフ描画用の&amp;lt;canvas&amp;gt;タグを作成する。
先ほどのCDNの参照及び今回作成するJavaScriptの読み込みを合わせて、HTML側のソースは以下のようになる。
index.html JavaScript側は公式のサンプルを参考にして以下のようにする。
main.js これら2つのファイルを適当なところに保存して、index.htmlをブラウザで開く。
以下のようなグラフがブラウザ上に表示される。
横軸が日付情報のデータをプロットする サンプルが動いたので、今回扱いたい、横軸が日付情報のデータをプロットする。
HTML側は特に変更せず、JavaScript側を以下のように変更する。
main.js 参考ページ
main.jsを上記のように変更し、index.htmlをブラウザで開くと以下のようなグラフが描画される。
横軸が日付になっており、横軸の間隔もデータに合わせていい感じになっている。
まとめ Chart.jsを使って横軸が日付情報のデータをプロットできた。
色々と描画オプションがあるようなので、それぞれ変更させるとどのようにグラフが変化するか、また今度まとめたい。
確かな力が身につくJavaScript「超」入門 第2版 狩野 祐東 Amazon Kindle 楽天 楽天Kobo</description></item></channel></rss>